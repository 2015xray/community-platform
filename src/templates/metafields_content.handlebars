<div id="metafield_container">
  <div id="metafield_container--left" class="left">

    <table>
      <tbody>
        <tr>
          <td class="up">
            <div class="dev_milestone-container__body__label ia-single--header">
              DESCRIPTION
            </div>
          </td>
          <td>
            {{#if permissions.can_edit}}
              <textarea data-panel="metafields" rows="3" cols="40" class="frm__text description js-autocommit metafield" id="description-textarea">{{live.description}}</textarea>
              {{else}}
                {{#if live.description}}
                  <div class="dev_milestone-container__body__readonly" id="description_txt">
                    {{live.description}}
                  </div>
                {{/if}}
              {{/if}}   
          </td>
        </tr>
        
        <tr>
          <td>
            <div class="dev_milestone-container__body__label ia-single--header">
              ID
            </div>
          </td>
          <td>
            {{#if permissions.admin}}
                <input data-panel="metafields" type="text" class="frm__input id js-autocommit metafield" id="id-input" value="{{live.id}}" />
            {{else}}
                {{#if live.id}}    
                    <div class="dev_milestone-container__body__readonly" id="id-txt">
                        {{live.id}}
                    </div>
                {{/if}}
            {{/if}}
          </td>
        </tr>
 
 
        <tr>
          <td>
            <div class="dev_milestone-container__body__label ia-single--header">
              PULL REQUEST
            </div>
          </td>
          <td>
            {{#if live.pr.id}}    
              <div class="dev_milestone-container__body__readonly" id="pr-txt">
                <a href="https://github.com/duckduckgo/zeroclickinfo-{{live.repo}}/issues/{{live.pr.id}}" class="dev_milestone-container__body__readonly__a" id="pr">
                {{live.pr.title}}
                </a>
              </div>
            {{/if}}
          </td>
        </tr>
        
        <tr>
          <td>
            <div class="dev_milestone-container__body__label ia-single--header">
              TEST MACHINE
            </div>
          </td>
          <td>
            {{#if permissions.can_edit}}
            <div class="frm__select">
              <select data-panel="metafields" class="test_machine dev_milestone-container__body__select js-autocommit" tabindex="-1" id="test_machine-select">
                {{#if live.test_machine}}<option value="0">{{live.test_machine}}</option>{{/if}}
                <option value=""> --- </option>
                {{#not_eq live.test_machine 'ddh1'}}<option value="1">ddh1</option>{{/not_eq}}
                {{#not_eq live.test_machine 'ddh2'}}<option value="2">ddh2</option>{{/not_eq}}
                {{#not_eq live.test_machine 'ddh3'}}<option value="3">ddh3</option>{{/not_eq}}
                {{#not_eq live.test_machine 'ddh4'}}<option value="4">ddh4</option>{{/not_eq}}
                {{#not_eq live.test_machine 'ddh5'}}<option value="5">ddh5</option>{{/not_eq}}
                {{#not_eq live.test_machine 'ddh6'}}<option value="6">ddh6</option>{{/not_eq}}
                {{#not_eq live.test_machine 'ddh7'}}<option value="7">ddh7</option>{{/not_eq}}
                {{#not_eq live.test_machine 'ddh8'}}<option value="8">ddh8</option>{{/not_eq}}
                {{#not_eq live.test_machine 'ddh9'}}<option value="9">ddh9</option>{{/not_eq}}
                {{#not_eq live.test_machine 'ddh10'}}<option value="10">ddh10</option>{{/not_eq}}
              </select>
            </div>
            {{else}}
              {{#if live.test_machine}}
                <div class="dev_milestone-container__body__readonly" id="test_machine-txt">
                  {{live.test_machine}}
                </div>
              {{/if}}
            {{/if}}
          </td>
        </tr>

        <tr>
          <td>
            <div class="dev_milestone-container__body__label ia-single--header">
              EXAMPLE QUERY
            </div>
          </td>
          <td>
            {{#if permissions.can_edit}}
              <input data-panel="metafields" type="text" class="frm__input example_query dev_milestone-container__body__input js-autocommit" id="example_query-input" value="{{live.example_query}}" />
              {{else}}
              {{#if live.example_query}}
                <a href="{{#if live.test_machine}}https://{{live.test_machine}}.duckduckgo.com/?q={{encodeURIComponent live.example_query}}{{tab_url live.tab}}{{/if}}" class="dev_milestone-container__body__readonly" id="example_query-a">
                  {{live.example_query}}
                </a>
              {{/if}}
            {{/if}}
          </td>
        </tr>

        <tr>
          <td>
            <div class="ia-single--header">
              TAB NAME
            </div>
          </td>
          <td>
            {{#if permissions.admin}}
              <input data-panel="metafields" type="text" class="frm__input tab js-autocommit" id="tab-input" value="{{live.tab}}" />
              {{else}}
              {{#if live.tab}}
                <div id="tab-txt">
                  {{live.tab}} 
                </div>
              {{/if}}
            {{/if}}
          </td>
        </tr>
      </tbody>
    </table>        
  </div>

  <div id="metafield_container--right" class="left">
    <table>
      <tbody>
        <tr>
          <td>
            <div class="dev_milestone-container__body__label ia-single--header">
              PRODUCER
            </div>
          </td>
          <td>
            {{#if permissions.admin}}
              <input data-panel="metafields" type="text" class="frm__input producer dev_milestone-container__body__input js-autocommit team-input" id="producer-input" value="{{live.producer}}" />
              <div data-panel="metafields" class="dev_milestone-container__body__button js-autocommit button assign-button btn btn--inline" id="producer-button">
                Assign to me
              </div>
              {{else}}
              {{#if live.producer}}
                <div class="dev_milestone-container__body__readonly" id="producer-txt">
                  <a href="/user/{{live.producer}}">{{live.producer}}</a>
                </div>
              {{/if}}
            {{/if}}
          </td>
        </tr>

        <tr>
          <td>
            <div class="dev_milestone-container__body__label ia-single--header">
              DEVELOPER
            </div>
          </td>
          <td>
            {{#if permissions.can_edit}}
              <input data-panel="metafields" type="text" class="frm__input developer dev_milestone-container__body__input js-autocommit comma-separated team-input" 
              id="developer-input" value="{{#each live.developer}}{{url}}{{#unless @last}},{{/unless}}{{/each}}" />
            {{else}}
              {{#if live.developer}}
                <div class="dev_milestone-container__body__readonly" id="developer-txt">
                  {{#each live.developer}}
                    <a href="{{url}}">{{name}}</a>
                  {{/each}}
                </div>
              {{/if}}
            {{/if}}
          </td>  
        </tr>

        <tr>
          <td>
            <div class="dev_milestone-container__body__label ia-single--header">
                TYPE
            </div>
          </td>
          <td>
            {{#if permissions.can_edit}}
                <span class="frm__select">
                  <select class="dev_milestone-container__body__select js-autocommit repo" data-panel="metafields" tabindex="-1" id="repo-select">
                    <option value="0">{{live.repo}}</option>
                    {{#not_eq live.repo 'fathead'}}<option value="1">fathead</option>{{/not_eq}}
                    {{#not_eq live.repo 'goodies'}}<option value="2">goodies</option>{{/not_eq}}
                    {{#not_eq live.repo 'longtail'}}<option value="3">longtail</option>{{/not_eq}}
                    {{#not_eq live.repo 'spice'}}<option value="4">spice</option>{{/not_eq}}
                  </select>
                </span>
            {{else}}
                <div class="dev_milestone-container__body__readonly" id="repo-txt">
                    <a class="dev_milestone-container__body__readonly__a" href="https://github.com/duckduckgo/zeroclickinfo-{{live.repo}}">
                        {{live.repo}}
                    </a>
                    <a class="dev_milestone-container__body__readonly__a docs-link" href="https://duck.co/duckduckhack/{{live.repo}}_overview">
                        <i class="dev_milestone-container__body__readonly__a__icon docs-link-icon icon-question-sign" />
                    </a>
                </div>
            {{/if}}
          </td>  
        </tr>

        <tr>
          <td>
            <div class="dev_milestone-container__body__label ia-single--header">
                DEV MILESTONE
            </div>
          </td>
          <td>
            {{#if permissions.admin}}
                <span class="frm__select">
                  <select class="dev_milestone-container__body__select js-autocommit dev_milestone" data-panel="metafields" tabindex="-1" id="dev_milestone-select">
                    <option value="0">{{live.dev_milestone}}</option>
                    {{#not_eq live.dev_milestone 'planning'}}<option value="1">planning</option>{{/not_eq}}
                    {{#not_eq live.dev_milestone 'development'}}<option value="2">development</option>{{/not_eq}}
                    {{#not_eq live.dev_milestone 'testing'}}<option value="3">testing</option>{{/not_eq}}
                    {{#not_eq live.dev_milestone 'complete'}}<option value="4">complete</option>{{/not_eq}}
                  </select>
                </span>
            {{else}}
                <div class="dev_milestone-container__body__readonly" id="dev_milestone-txt">
                        {{live.dev_milestone}}
                </div>
            {{/if}}
          </td>  
        </tr>

        <tr>
          <td>
            <div class="dev_milestone-container__body__label ia-single--header">
                PERL MODULE
            </div>
          </td>

          <td>
            {{#if permissions.can_edit}}
                <input data-panel="metafields" type="text" class="frm__input perl_module dev_milestone-container__body__input js-autocommit" id="perl_module-input" value="{{live.perl_module}}" />
            {{else}}
                <div class="dev_milestone-container__body__readonly" id="perl_module-txt">
                    {{live.perl_module}}        
                </div>
            {{/if}}
          </td>
        </tr>

        <tr>
          <td class="{{#if permissions.admin}}up{{/if}}">
            <div class="ia-single--header">
              TOPICS
            </div>
          </td>

          <td>
            {{#if permissions.can_edit}}
              <div class="separator topic-separator">
                <div data-panel="metafields" class="topic button btn btn--alt delete listbutton left js-autocommit" name="topic" title="Remove this topic">
                  <i class="ddgsi ddgsi-close-bold">X</i>
                </div>
                <span class="frm__select">
                  <select data-panel="metafields" class="topic js-autocommit topic-group left" id="first-topic-select">
                    <option value="0">{{index live.topic 0}}</option>
                  </select>
                </span>
                <span class="clearfix"></span>
              </div>
              <div class="separator topic-separator">
                <div data-panel="metafields" class="topic button btn btn--alt delete listbutton left js-autocommit" name="topic" title="Remove this topic">
                  <i class="ddgsi ddgsi-close-bold">X</i>
                </div>
                <span class="frm__select">
                  <select data-panel="metafields" class="topic js-autocommit topic-group left" id="second-topic-select">
                    <option value="0">{{index live.topic 1}}</option>
                  </select>
                </span>
                <span class="clearfix"></span>
              </div>
              <div class="separator topic-separator">
                <div data-panel="metafields" class="topic button btn btn--alt delete listbutton left js-autocommit" name="topic" title="Remove this topic">
                  <i class="ddgsi ddgsi-close-bold">X</i>
                </div>
                <span class="frm__select">
                  <select data-panel="metafields" class="topic js-autocommit topic-group left" id="third-topic-select">
                    <option value="0">{{index live.topic 2}}</option>
                  </select>
                </span>
                <span class="clearfix"></span>
              </div>
              <span class="clearfix"></span>
              {{else}}
            {{#if live.topic}}
              <div id="topic-txt">
                {{live.topic}} 
              </div>
            {{/if}}
            {{/if}}
          </td>  
        </tr>
      </tbody>
    </table>
  </div>
  <span class="clearfix"></span>
</div>
